// This file is used to test the programmatic rendering and updating of a chart.

import { createChart, TileMap } from '../../src/js/index';
const container = document.getElementById( 'update-demo' );
const mapContainer = document.getElementById( 'map' );
const demoTileMap = document.getElementById( 'demo-tile-map' );

// standard map
const normalData = [[{"name":"CA","value":97379,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.50","className":"deselected","displayValue":97379},{"name":"FL","value":84694,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"4.18","className":"deselected","displayValue":84694},{"name":"TX","value":71598,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.61","className":"selected","displayValue":71598},{"name":"NY","value":52352,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.64","className":"deselected","displayValue":52352},{"name":"GA","value":46175,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"4.53","className":"deselected","displayValue":46175},{"name":"IL","value":30747,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.39","className":"deselected","displayValue":30747},{"name":"NC","value":25673,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.55","className":"deselected","displayValue":25673},{"name":"NJ","value":25466,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.84","className":"deselected","displayValue":25466},{"name":"PA","value":25176,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.97","className":"deselected","displayValue":25176},{"name":"OH","value":21723,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.87","className":"deselected","displayValue":21723},{"name":"VA","value":18803,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.25","className":"deselected","displayValue":18803},{"name":"MD","value":18169,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"3.03","className":"deselected","displayValue":18169},{"name":"MI","value":16413,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.65","className":"deselected","displayValue":16413},{"name":"AZ","value":14604,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.14","className":"deselected","displayValue":14604},{"name":"SC","value":13704,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.80","className":"deselected","displayValue":13704},{"name":"TN","value":13484,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.04","className":"deselected","displayValue":13484},{"name":"WA","value":12211,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.70","className":"deselected","displayValue":12211},{"name":"MA","value":11887,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.75","className":"deselected","displayValue":11887},{"name":"MO","value":11624,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.91","className":"deselected","displayValue":11624},{"name":"LA","value":11123,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.39","className":"selected","displayValue":11123},{"name":"NV","value":10737,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"3.72","className":"deselected","displayValue":10737},{"name":"CO","value":10582,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.95","className":"deselected","displayValue":10582},{"name":"AL","value":10187,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.10","className":"deselected","displayValue":10187},{"name":"IN","value":8369,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.27","className":"deselected","displayValue":8369},{"name":"CT","value":7825,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.18","className":"deselected","displayValue":7825},{"name":"WI","value":7140,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.24","className":"deselected","displayValue":7140},{"name":"MN","value":6860,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.25","className":"deselected","displayValue":6860},{"name":"UT","value":6119,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"2.04","className":"deselected","displayValue":6119},{"name":"OR","value":5832,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.45","className":"deselected","displayValue":5832},{"name":"MS","value":5165,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.73","className":"selected","displayValue":5165},{"name":"KY","value":4963,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.12","className":"deselected","displayValue":4963},{"name":"OK","value":4332,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.11","className":"deselected","displayValue":4332},{"name":"AR","value":4180,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.40","className":"deselected","displayValue":4180},{"name":"DC","value":3665,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"5.45","className":"deselected","displayValue":3665},{"name":"KS","value":3523,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.21","className":"deselected","displayValue":3523},{"name":"DE","value":3348,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"3.55","className":"deselected","displayValue":3348},{"name":"NM","value":2716,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.30","className":"deselected","displayValue":2716},{"name":"IA","value":2625,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.84","className":"deselected","displayValue":2625},{"name":"HI","value":2068,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.45","className":"deselected","displayValue":2068},{"name":"RI","value":1877,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.78","className":"deselected","displayValue":1877},{"name":"NH","value":1864,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.40","className":"deselected","displayValue":1864},{"name":"ID","value":1854,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.12","className":"deselected","displayValue":1854},{"name":"NE","value":1792,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.95","className":"deselected","displayValue":1792},{"name":"WV","value":1544,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.84","className":"deselected","displayValue":1544},{"name":"ME","value":1526,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.15","className":"deselected","displayValue":1526},{"name":"MT","value":1086,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.05","className":"deselected","displayValue":1086},{"name":"ND","value":754,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.01","className":"deselected","displayValue":754},{"name":"AK","value":708,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.96","className":"selected","displayValue":708},{"name":"SD","value":705,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.82","className":"deselected","displayValue":705},{"name":"VT","value":689,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.10","className":"deselected","displayValue":689},{"name":"WY","value":653,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"1.12","className":"deselected","displayValue":653}]]
// other map with per capita values
const perCapitaData = [ [ { 'name': 'CA', 'value': 97379, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.50', 'className': 'deselected', 'displayValue': '2.50' }, { 'name': 'FL', 'value': 84694, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '4.18', 'className': 'deselected', 'displayValue': '4.18' }, { 'name': 'TX', 'value': 71598, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.61', 'className': 'selected', 'displayValue': '2.61' }, { 'name': 'NY', 'value': 52352, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.64', 'className': 'deselected', 'displayValue': '2.64' }, { 'name': 'GA', 'value': 46175, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '4.53', 'className': 'deselected', 'displayValue': '4.53' }, { 'name': 'IL', 'value': 30747, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.39', 'className': 'deselected', 'displayValue': '2.39' }, { 'name': 'NC', 'value': 25673, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.55', 'className': 'deselected', 'displayValue': '2.55' }, { 'name': 'NJ', 'value': 25466, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.84', 'className': 'deselected', 'displayValue': '2.84' }, { 'name': 'PA', 'value': 25176, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.97', 'className': 'deselected', 'displayValue': '1.97' }, { 'name': 'OH', 'value': 21723, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.87', 'className': 'deselected', 'displayValue': '1.87' }, { 'name': 'VA', 'value': 18803, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.25', 'className': 'deselected', 'displayValue': '2.25' }, { 'name': 'MD', 'value': 18169, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '3.03', 'className': 'deselected', 'displayValue': '3.03' }, { 'name': 'MI', 'value': 16413, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.65', 'className': 'deselected', 'displayValue': '1.65' }, { 'name': 'AZ', 'value': 14604, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.14', 'className': 'deselected', 'displayValue': '2.14' }, { 'name': 'SC', 'value': 13704, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.80', 'className': 'deselected', 'displayValue': '2.80' }, { 'name': 'TN', 'value': 13484, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.04', 'className': 'deselected', 'displayValue': '2.04' }, { 'name': 'WA', 'value': 12211, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.70', 'className': 'deselected', 'displayValue': '1.70' }, { 'name': 'MA', 'value': 11887, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.75', 'className': 'deselected', 'displayValue': '1.75' }, { 'name': 'MO', 'value': 11624, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.91', 'className': 'deselected', 'displayValue': '1.91' }, { 'name': 'LA', 'value': 11123, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.39', 'className': 'selected', 'displayValue': '2.39' }, { 'name': 'NV', 'value': 10737, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '3.72', 'className': 'deselected', 'displayValue': '3.72' }, { 'name': 'CO', 'value': 10582, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.95', 'className': 'deselected', 'displayValue': '1.95' }, { 'name': 'AL', 'value': 10187, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.10', 'className': 'deselected', 'displayValue': '2.10' }, { 'name': 'IN', 'value': 8369, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.27', 'className': 'deselected', 'displayValue': '1.27' }, { 'name': 'CT', 'value': 7825, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.18', 'className': 'deselected', 'displayValue': '2.18' }, { 'name': 'WI', 'value': 7140, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.24', 'className': 'deselected', 'displayValue': '1.24' }, { 'name': 'MN', 'value': 6860, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.25', 'className': 'deselected', 'displayValue': '1.25' }, { 'name': 'UT', 'value': 6119, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '2.04', 'className': 'deselected', 'displayValue': '2.04' }, { 'name': 'OR', 'value': 5832, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.45', 'className': 'deselected', 'displayValue': '1.45' }, { 'name': 'MS', 'value': 5165, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.73', 'className': 'selected', 'displayValue': '1.73' }, { 'name': 'KY', 'value': 4963, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.12', 'className': 'deselected', 'displayValue': '1.12' }, { 'name': 'OK', 'value': 4332, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.11', 'className': 'deselected', 'displayValue': '1.11' }, { 'name': 'AR', 'value': 4180, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.40', 'className': 'deselected', 'displayValue': '1.40' }, { 'name': 'DC', 'value': 3665, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '5.45', 'className': 'deselected', 'displayValue': '5.45' }, { 'name': 'KS', 'value': 3523, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.21', 'className': 'deselected', 'displayValue': '1.21' }, { 'name': 'DE', 'value': 3348, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '3.55', 'className': 'deselected', 'displayValue': '3.55' }, { 'name': 'NM', 'value': 2716, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.30', 'className': 'deselected', 'displayValue': '1.30' }, { 'name': 'IA', 'value': 2625, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '0.84', 'className': 'deselected', 'displayValue': '0.84' }, { 'name': 'HI', 'value': 2068, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.45', 'className': 'deselected', 'displayValue': '1.45' }, { 'name': 'RI', 'value': 1877, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.78', 'className': 'deselected', 'displayValue': '1.78' }, { 'name': 'NH', 'value': 1864, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.40', 'className': 'deselected', 'displayValue': '1.40' }, { 'name': 'ID', 'value': 1854, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.12', 'className': 'deselected', 'displayValue': '1.12' }, { 'name': 'NE', 'value': 1792, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '0.95', 'className': 'deselected', 'displayValue': '0.95' }, { 'name': 'WV', 'value': 1544, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '0.84', 'className': 'deselected', 'displayValue': '0.84' }, { 'name': 'ME', 'value': 1526, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.15', 'className': 'deselected', 'displayValue': '1.15' }, { 'name': 'MT', 'value': 1086, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.05', 'className': 'deselected', 'displayValue': '1.05' }, { 'name': 'ND', 'value': 754, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.01', 'className': 'deselected', 'displayValue': '1.01' }, { 'name': 'AK', 'value': 708, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '0.96', 'className': 'selected', 'displayValue': '0.96' }, { 'name': 'SD', 'value': 705, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '0.82', 'className': 'deselected', 'displayValue': '0.82' }, { 'name': 'VT', 'value': 689, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.10', 'className': 'deselected', 'displayValue': '1.10' }, { 'name': 'WY', 'value': 653, 'issue': 'Incorrect information on your report', 'product': 'Credit reporting, credit repair services, or other personal consumer reports', 'perCapita': '1.12', 'className': 'deselected', 'displayValue': '1.12' } ] ];
// to test for values < 1
const smallPerCapita = [[{"name":"FL","value":8041,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.40","className":"deselected","displayValue":"0.40"},{"name":"CA","value":7694,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.20","className":"deselected","displayValue":"0.20"},{"name":"TX","value":5082,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.19","className":"selected","displayValue":"0.19"},{"name":"NY","value":4416,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.22","className":"deselected","displayValue":"0.22"},{"name":"GA","value":3545,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.35","className":"deselected","displayValue":"0.35"},{"name":"PA","value":1950,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.15","className":"deselected","displayValue":"0.15"},{"name":"IL","value":1926,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.15","className":"deselected","displayValue":"0.15"},{"name":"NJ","value":1841,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.21","className":"deselected","displayValue":"0.21"},{"name":"NC","value":1700,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.17","className":"deselected","displayValue":"0.17"},{"name":"OH","value":1501,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.13","className":"deselected","displayValue":"0.13"},{"name":"VA","value":1185,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.14","className":"deselected","displayValue":"0.14"},{"name":"MD","value":1168,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.19","className":"deselected","displayValue":"0.19"},{"name":"SC","value":1166,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.24","className":"deselected","displayValue":"0.24"},{"name":"MI","value":1125,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.11","className":"deselected","displayValue":"0.11"},{"name":"NV","value":1076,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.37","className":"deselected","displayValue":"0.37"},{"name":"TN","value":1064,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.16","className":"deselected","displayValue":"0.16"},{"name":"AL","value":916,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.19","className":"deselected","displayValue":"0.19"},{"name":"MA","value":905,"issue":"Problem with a credit reporting company's investigation into an existing problem","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.13","className":"deselected","displayValue":"0.13"},{"name":"AZ","value":846,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.12","className":"deselected","displayValue":"0.12"},{"name":"LA","value":782,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.17","className":"selected","displayValue":"0.17"},{"name":"MO","value":773,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.13","className":"deselected","displayValue":"0.13"},{"name":"CO","value":718,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.13","className":"deselected","displayValue":"0.13"},{"name":"WA","value":662,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.09","className":"deselected","displayValue":"0.09"},{"name":"CT","value":604,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.17","className":"deselected","displayValue":"0.17"},{"name":"UT","value":586,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.20","className":"deselected","displayValue":"0.20"},{"name":"MN","value":515,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.09","className":"deselected","displayValue":"0.09"},{"name":"IN","value":507,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.08","className":"deselected","displayValue":"0.08"},{"name":"WI","value":455,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.08","className":"deselected","displayValue":"0.08"},{"name":"OR","value":384,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.10","className":"deselected","displayValue":"0.10"},{"name":"AR","value":351,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.12","className":"deselected","displayValue":"0.12"},{"name":"MS","value":319,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.11","className":"selected","displayValue":"0.11"},{"name":"OK","value":274,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.07","className":"deselected","displayValue":"0.07"},{"name":"DC","value":270,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.40","className":"deselected","displayValue":"0.40"},{"name":"KS","value":263,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.09","className":"deselected","displayValue":"0.09"},{"name":"DE","value":258,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.27","className":"deselected","displayValue":"0.27"},{"name":"KY","value":242,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.05","className":"deselected","displayValue":"0.05"},{"name":"IA","value":193,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.06","className":"deselected","displayValue":"0.06"},{"name":"NM","value":183,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.09","className":"deselected","displayValue":"0.09"},{"name":"HI","value":120,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.08","className":"deselected","displayValue":"0.08"},{"name":"NE","value":108,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.06","className":"deselected","displayValue":"0.06"},{"name":"ID","value":103,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.06","className":"deselected","displayValue":"0.06"},{"name":"NH","value":100,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.08","className":"deselected","displayValue":"0.08"},{"name":"RI","value":99,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.09","className":"deselected","displayValue":"0.09"},{"name":"WV","value":84,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.05","className":"deselected","displayValue":"0.05"},{"name":"WY","value":60,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.10","className":"deselected","displayValue":"0.10"},{"name":"ME","value":59,"issue":"Incorrect information on your report","product":"Credit card or prepaid card","perCapita":"0.04","className":"deselected","displayValue":"0.04"},{"name":"MT","value":57,"issue":"Attempts to collect debt not owed","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.06","className":"deselected","displayValue":"0.06"},{"name":"VT","value":49,"issue":"Managing an account","product":"Credit card or prepaid card","perCapita":"0.08","className":"deselected","displayValue":"0.08"},{"name":"SD","value":46,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.05","className":"deselected","displayValue":"0.05"},{"name":"AK","value":45,"issue":"Incorrect information on your report","product":"Credit reporting, credit repair services, or other personal consumer reports","perCapita":"0.06","className":"selected","displayValue":"0.06"},{"name":"ND","value":30,"issue":"Attempts to collect debt not owed","product":"Debt collection","perCapita":"0.04","className":"deselected","displayValue":"0.04"}]];
// other test set
const demoTileData = [ [ { name: 'CA', value: 189568, className: 'selected', perCapita: 10, displayValue: 189568 }, { name: 'FL', value: 140149, className: 'selected', perCapita: 10, displayValue: 140149 }, { name: 'TX', value: 117748, className: 'selected', perCapita: 10, displayValue: 117748 }, { name: 'NY', value: 94447, className: '', perCapita: 10, displayValue: 94447 }, { name: 'GA', value: 73889, perCapita: 10, displayValue: 73889 }, { name: 'IL', value: 53633, perCapita: 10, displayValue: 53633 }, { name: 'NJ', value: 51244, perCapita: 10, displayValue: 51244 }, { name: 'PA', value: 47724, perCapita: 10, displayValue: 47724 }, { name: 'NC', value: 43113, perCapita: 10, displayValue: 43113 }, { name: 'OH', value: 41448, perCapita: 10, displayValue: 41448 }, { name: 'VA', value: 40027, perCapita: 10, displayValue: 40027 }, { name: 'MD', value: 38833, perCapita: 10, displayValue: 38833 }, { name: 'MI', value: 32479, perCapita: 10, displayValue: 32479 }, { name: 'AZ', value: 29367, perCapita: 10, displayValue: 29367 }, { name: 'WA', value: 26115, perCapita: 10, displayValue: 26115 }, { name: 'MA', value: 24324, perCapita: 10, displayValue: 24324 }, { name: 'TN', value: 22950, className: 'deselected', perCapita: 10, displayValue: 22950 }, { name: 'CO', value: 21837, perCapita: 10, displayValue: 21837 }, { name: 'SC', value: 20947, perCapita: 10, displayValue: 20947 }, { name: 'MO', value: 19843, perCapita: 10, displayValue: 19843 }, { name: 'NV', value: 17779, perCapita: 10, displayValue: 17779 }, { name: 'LA', value: 16985, perCapita: 10, displayValue: 16985 }, { name: 'AL', value: 16104, perCapita: 10, displayValue: 16104 }, { name: 'IN', value: 15440, perCapita: 10, displayValue: 15440 }, { name: 'CT', value: 15256, perCapita: 10, displayValue: 15256 }, { name: 'MN', value: 14326, perCapita: 10, displayValue: 14326 }, { name: 'WI', value: 14045, perCapita: 10, displayValue: 14045 }, { name: 'OR', value: 13725, perCapita: 10, displayValue: 13725 }, { name: 'KY', value: 9633, perCapita: 10, displayValue: 9633 }, { name: 'UT', value: 9041, perCapita: 10, displayValue: 9041 }, { name: 'OK', value: 8686, perCapita: 10, displayValue: 8686 }, { name: 'MS', value: 8038, perCapita: 10, displayValue: 8038 }, { name: 'DC', value: 7419, perCapita: 10, displayValue: 7419 }, { name: 'AR', value: 6681, perCapita: 10, displayValue: 6681 }, { name: 'KS', value: 6614, perCapita: 10, displayValue: 6614 }, { name: 'DE', value: 6556, perCapita: 10, displayValue: 6556 }, { name: 'NM', value: 5982, perCapita: 10, displayValue: 5982 }, { name: 'IA', value: 5324, perCapita: 10, displayValue: 5324 }, { name: 'NH', value: 5088, perCapita: 10, displayValue: 5088 }, { name: 'HI', value: 4286, perCapita: 10, displayValue: 4286 }, { name: 'ID', value: 4130, perCapita: 10, displayValue: 4130 }, { name: 'RI', value: 3998, perCapita: 10, displayValue: 3998 }, { name: 'NE', value: 3813, perCapita: 10, displayValue: 3813 }, { name: 'ME', value: 3776, perCapita: 10, displayValue: 3776 }, { name: 'WV', value: 3205, perCapita: 10, displayValue: 3205 }, { name: 'MT', value: 2135, perCapita: 10, displayValue: 2135 }, { name: 'VT', value: 1780, perCapita: 10, displayValue: 1780 }, { name: 'SD', value: 1623, perCapita: 10, displayValue: 1623 }, { name: 'AK', value: 1476, perCapita: 10, displayValue: 1476 }, { name: 'ND', value: 1332, perCapita: 10, displayValue: 1332 }, { name: 'WY', value: 1259, perCapita: 10, displayValue: 1259 } ] ];

const chart = new TileMap( {
  el: demoTileMap,
  data: smallPerCapita,
  colors: [
    'rgba(247, 248, 249, 0.5)',
    'rgba(212, 231, 230, 0.5)',
    'rgba(180, 210, 209, 0.5)',
    'rgba(137, 182, 181, 0.5)',
    'rgba(86, 149, 148, 0.5)',
    'rgba(37, 116, 115, 0.5)'
  ],
  localize: true,
  events: {
    // custom event handlers we can pass on
    click: function (event) {
      console.log(event)
      console.log(this)
    }
  },
  // exposing the width to pass into highcharts
  width: 600
} );

// Test chart updating.
// const testChartUpdateBtn = document.querySelector( '#test-chart-update' );
// testChartUpdateBtn.addEventListener( 'click', testChartUpdate );

function testChartUpdate() {
  testChartUpdateBtn.setAttribute( 'disabled', '' );

  chart.update( {
    source: 'mortgage-performance/time-series/30-89/12031;mortgage-performance/time-series/30-89/national',
    metadata: 'pct90'
  } ).then( () => {
    testChartUpdateBtn.removeAttribute( 'disabled' );
  } );
}

// Test map updating.
const testGeomapStatesBtn = document.querySelector( '#test-geomap-states' );
testGeomapStatesBtn.addEventListener( 'click', testGeomapStates );

const testGeomapCountiesBtn = document.querySelector( '#test-geomap-counties' );
testGeomapCountiesBtn.addEventListener( 'click', testGeomapCounties );

const testGeomapMetrosBtn = document.querySelector( '#test-geomap-metros' );
testGeomapMetrosBtn.addEventListener( 'click', testGeomapMetros );

const testGeomapHighlightBtn = document.querySelector( '#test-geomap-highlight' );
testGeomapHighlightBtn.addEventListener( 'click', testGeomapHighlight );

const btns = [
  testGeomapStatesBtn,
  testGeomapCountiesBtn,
  testGeomapMetrosBtn,
  testGeomapHighlightBtn
];

function disableBtns() {
  for ( let i in btns ) {
    btns[i].setAttribute( 'disabled', '' );
  }
}

function enableBtns() {
  for ( let i in btns ) {
    btns[i].removeAttribute( 'disabled' );
  }
}

function testGeomapStates() {
  disableBtns();

  map.update( {
    source: 'mortgage-performance/map-data/30-89/states/2009-01',
    metadata: 'states'
  } ).then( () => {
    enableBtns();
  } );
}

function testGeomapCounties() {
  disableBtns();

  map.update( {
    source: 'mortgage-performance/map-data/30-89/counties/2009-01',
    metadata: 'counties'
  } ).then( () => {
    enableBtns();
  } );
}

function testGeomapMetros() {
  disableBtns();

  map.update( {
    source: 'mortgage-performance/map-data/30-89/metros/2009-01',
    metadata: 'metros'
  } ).then( () => {
    map.highchart.chart.get( '10740' ).select( false );
    enableBtns();
  } );
}

function testGeomapHighlight() {
  disableBtns();

  map.update( {
    source: 'mortgage-performance/map-data/30-89/metros/2009-01',
    metadata: 'metros'
  } ).then( () => {
    map.highchart.chart.get( '10740' ).select( true, false );
    enableBtns();
  } );
}
